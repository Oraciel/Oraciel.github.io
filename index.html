<!DOCTYPE html>
<html>
<head>
    <title>GeoCarto</title>
    <meta charset="utf-8"/>
</head>
<body>
    <script>
        function getCurrentPosition() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }
        function watchPosition() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(showPositionWatch);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }


        function showPositionWatch(position){
            let div = document.createElement("div");
            let lat = position.coords.latitude;
            let lon = position.coords.longitude;
            let alt = position.coords.altitude;
            let acc = position.coords.accuracy;
            let speed = position.coords.speed;
            let date = position.timestamp;
            div.innerHTML = "<h1>Exercice 2 : Localisation avec smartphone et HTML</h1><h2>Avec watchPosition</h2>Latitude: " + lat + "<br>Longitude: " + lon + "<br>Altitude: " + alt + "<br>Accuracy: " + acc + "<br>Speed: " + speed + "<br>Date: " + date;
            document.body.appendChild(div);
            setTimeout(watchPosition, 2000);
        }

        function showPosition(position) {
            let div = document.createElement("div");
            let lat = position.coords.latitude;
            let lon = position.coords.longitude;
            let alt = position.coords.altitude;
            let acc = position.coords.accuracy;
            let speed = position.coords.speed;
            let date = position.timestamp;
            div.innerHTML = "<h1>Exercice 2 : Localisation avec smartphone et HTML</h1><h2>Avec getCurrentPosition</h2>Latitude: " + lat + "<br>Longitude: " + lon + "<br>Altitude: " + alt + "<br>Accuracy: " + acc + "<br>Speed: " + speed + "<br>Date: " + date;
            document.body.appendChild(div);
            setTimeout(getCurrentPosition, 2000);
        }
        showPosition();
        showPositionWatch();
    </script>
</body>
</html>